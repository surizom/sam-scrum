{"version":3,"sources":["state/constants.ts","state/reducers/legacyReducers.ts","state/reducers/sprintUtils.ts","state/productContextUtils.ts","state/productContext.tsx","state/reducers/sprintReducers.ts","components/AutoSizeTextArea.tsx","components/AddItem.tsx","components/Item.tsx","components/ListTitle.tsx","components/List.tsx","components/ProductBacklog.tsx","components/Sprint.tsx","components/AddSprintModal.tsx","components/Product.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ProductAction","moveItemWithinSameList","sourceIndex","destinationIndex","item","position","Math","min","max","findSprintIdByColumnId","productData","columnId","Object","keys","backlog","includes","type","items","sprintId","sprints","prototype","hasOwnProperty","call","sprint","data","someItemsNotDone","values","filter","column","list_title","some","length","isColumnNonEmpty","INITIAL_PRODUCT_DATA","product_title","item_content","startDate","Date","endDate","goal","isOpen","INITIAL_CONTEXT_VALUE","dispatch","ProductContext","createContext","ProductProvider","children","useReducer","state","action","REORDER_ITEM_POSITION","source","destination","itemId","droppableId","Error","newItems","fromEntries","entries","map","key","value","index","newProductData","cloneDeep","sourceSprint","sourceItems","destinationSprint","destinationItems","movingItem","reorderItemPosition","ADD_ITEM","listId","content","listItems","undefined","newId","uuidv4","addItem","UPDATE_ITEM","newItemData","updateItem","DELETE_LIST","omit","deleteList","DELETE_ITEM","deleteItem","UPDATE_LIST_TITLE","listTitle","newBoardData","updateListTitle","CREATE_SPRINT","id","idSprintBacklog","idDoing","idDone","createSprint","END_SPRINT","callback","alertMessage","error","alert","catchErrorWithAlert","doneColumnEntry","find","entry","endSprint","DELETE_SPRINT","deleteSprint","Provider","TextArea","styled","textarea","props","editMode","isTitle","AutoSizeTextArea","placeholder","onSave","updateValue","onBlur","useState","textAreaValue","setTextAreaValue","textAreaRef","useRef","useEffect","current","style","height","scrollHeight","focus","select","ref","onChange","e","target","rows","onKeyDown","keyCode","preventDefault","blur","spellCheck","Button","div","Wrapper","AddItem","compose","setCompose","useContext","onClick","className","Delete","TextAreaWrapper","ItemDraggable","Item","itemData","setEditMode","contentClick","deleteClick","draggableId","disableInteractiveElementBlocking","draggableProvided","innerRef","draggableProps","dragHandleProps","Container","ListTitle","title","ListWrapper","ListDroppable","List","listData","itemIds","sort","a","b","droppableProvided","ProductBacklogWrapper","ProductBackLog","SprintWrapper","SprintHeader","SprintHeaderSide","SprintTitle","SprintSubtitle","ListsWrapper","DeleteSprintButton","button","EndSprintButton","Sprint","listIds","prefix","dayjs","diff","getDiffDays","toDateString","extend","customParseFormat","Modal","setAppElement","AddSprintTitle","AddSprintFormLabel","AddSprintFormTextArea","AddSprintFormFooter","AddSprintFormButton","AddSprintModal","onClose","onAddSprint","goalsValue","setGoalsValue","startDateValue","setStartDateValue","endDateValue","setEndDateValue","shouldCloseOnOverlayClick","onRequestClose","width","top","left","right","bottom","marginRight","transform","backgroundColor","color","borderRadius","backdropFilter","contentLabel","startDateDayjs","endDateDayjs","isValid","isAfter","toDate","ProductContainer","ProductHeader","ProductTitle","ProductContent","AddSprintButton","AddSprintPlusIcon","onDragEnd","result","Product","isAddSprintModalOpen","setIsAddSprintModalOpen","sprintIds","backlogIds","onBeforeDragStart","document","activeElement","tagName","toUpperCase","HTMLElement","direction","provided","droppableProps","backlogId","addSprint","Heading","Title","LogoSquare","LogoRectangle1","LogoRectangle2","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bbb7dc9d.chunk.js","sourcesContent":["import { ProductData } from \"../types/types\";\n\nexport const INITIAL_PRODUCT_DATA: ProductData = {\n  product_title: \"Main Product\",\n  sprints: {\n    \"7cd31ac2-acfc-4912-a6ad-98ecdef9fff5\": {\n      data: {\n        \"5cac8c9e-f91b-438a-9e18-00cea4667ee3\": {\n          position: 0,\n          list_title: \"Sprint Backlog\",\n          items: {\n            \"52f8d85a-0196-46f0-96f3-5878846851dd\": {\n              position: 0,\n              item_content: \"todo item 1\",\n            },\n            \"271beef3-8082-4ec2-aa9b-955944aea405\": {\n              position: 1,\n              item_content: \"second todo item\",\n            },\n          },\n        },\n        \"860c2140-f2cd-4e9a-8b82-179137e19b1e\": {\n          position: 1,\n          list_title: \"Doing\",\n          items: {\n            \"63bdd1d2-aa55-4e69-8f98-b345b5b6bdfd\": {\n              position: 0,\n              item_content: \"some data here\",\n            },\n            \"8c2b284c-babe-48ce-8eed-12d3fed2334a\": {\n              position: 2,\n              item_content: \"here is more text\",\n            },\n            \"11c54528-b4d5-4142-8069-3f82b91a7a2e\": {\n              position: 1,\n              item_content: \"Multi-line item example. Multi-line item example. \",\n            },\n          },\n        },\n        \"860c2140-f2cd-4e9a-8b82-179477e19b1e\": {\n          position: 2,\n          list_title: \"Done\",\n          items: {\n            \"63bdd1d2-aa55-4e69-0f98-b345b5b6bdfd\": {\n              position: 0,\n              item_content: \"some data here\",\n            },\n            \"562b284c-babe-48ce-8e4d-12d3fed2334a\": {\n              position: 2,\n              item_content: \"here is more text\",\n            },\n            \"22c54528-b4d5-4142-8069-3f82b91a7a2e\": {\n              position: 1,\n              item_content: \"Multi-line item example. Multi-line item example. \",\n            },\n          },\n        },\n      },\n      startDate: new Date(\"2021-04-12T10:00:00Z\"),\n      endDate: new Date(\"2021-05-10T11:00:00Z\"),\n      position: 0,\n      goal: \"My first sprint !\",\n      isOpen: true,\n    },\n  },\n  backlog: {\n    \"77c73546-1d0a-4144-a2bb-2247e07a6deb\": {\n      list_title: \"Product Backlog\",\n      position: 0,\n      items: {\n        \"55d8a49b-6a2a-4d8d-9f9d-369f975ea4d2\": {\n          position: 0,\n          item_content: \"backlog 1\",\n        },\n        \"f73d0a10-f5ad-4dcf-b6aa-facc0de6f26d\": {\n          position: 1,\n          item_content: \"backlog 2\",\n        },\n      },\n    },\n  },\n};\n\nexport enum ProductAction {\n  REORDER_ITEM_POSITION = \"reorderItemPosition\",\n  ADD_ITEM = \"addItem\",\n  UPDATE_ITEM = \"updateItem\",\n  DELETE_ITEM = \"deleteItem\",\n  DELETE_LIST = \"deleteList\",\n  UPDATE_LIST_TITLE = \"updateListTitle\",\n  CREATE_SPRINT = \"createSprint\",\n  DELETE_SPRINT = \"deleteSprint\",\n  END_SPRINT = \"endSprint\",\n}\n","/* eslint-disable no-restricted-syntax */\nimport { cloneDeep, omit } from \"lodash\";\nimport { DraggableLocation } from \"react-beautiful-dnd\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { Item, Items, ProductData } from \"../../types/types\";\n\nconst moveItemWithinSameList = ({\n  sourceIndex,\n  destinationIndex,\n  item,\n}: {\n  sourceIndex: number;\n  destinationIndex: number;\n  item: Item;\n}): Item => {\n  if (item.position === sourceIndex) {\n    return {\n      ...item,\n      position: destinationIndex,\n    };\n  }\n  if (\n    item.position < Math.min(sourceIndex, destinationIndex) ||\n    item.position > Math.max(sourceIndex, destinationIndex)\n  ) {\n    return item;\n  }\n  if (sourceIndex < destinationIndex) {\n    return {\n      ...item,\n      position: item.position - 1,\n    };\n  }\n  return {\n    ...item,\n    position: item.position + 1,\n  };\n};\n\ntype FindSprintIdReturnType =\n  | {\n      type: \"SPRINT\";\n      sprintId: string;\n      items: Items;\n    }\n  | {\n      type: \"BACKLOG\";\n      items: Items;\n    }\n  | {\n      type: \"ERROR\";\n    };\n\nconst findSprintIdByColumnId = (\n  productData: ProductData,\n  columnId: string\n): FindSprintIdReturnType => {\n  if (Object.keys(productData.backlog).includes(columnId)) {\n    return {\n      type: \"BACKLOG\",\n      items: productData.backlog[columnId].items,\n    };\n  }\n  for (const sprintId in productData.sprints) {\n    if (Object.prototype.hasOwnProperty.call(productData.sprints, sprintId)) {\n      const sprint = productData.sprints[sprintId];\n      if (Object.keys(sprint.data).includes(columnId)) {\n        return {\n          type: \"SPRINT\",\n          sprintId,\n          items: productData.sprints[sprintId].data[columnId].items,\n        };\n      }\n    }\n  }\n\n  return {\n    type: \"ERROR\",\n  };\n};\n\nexport const reorderItemPosition = (\n  productData: ProductData,\n  source: DraggableLocation,\n  destination: DraggableLocation,\n  itemId: string\n): ProductData => {\n  // moving item within same list\n  if (source.droppableId === destination.droppableId) {\n    const sprint = findSprintIdByColumnId(productData, source.droppableId);\n    if (sprint.type === \"ERROR\") {\n      throw new Error(\"ColumnId not found in productData\");\n    }\n    const { items } = sprint;\n\n    const newItems = Object.fromEntries(\n      Object.entries(items).map(([key, value]) => [\n        key,\n        moveItemWithinSameList({\n          item: value,\n          sourceIndex: source.index,\n          destinationIndex: destination.index,\n        }),\n      ])\n    );\n    const newProductData = cloneDeep(productData);\n    if (sprint.type === \"SPRINT\") {\n      newProductData.sprints[sprint.sprintId].data[source.droppableId].items = newItems;\n    } else if (sprint.type === \"BACKLOG\") {\n      newProductData.backlog[source.droppableId].items = newItems;\n    }\n\n    return newProductData;\n  }\n  // moving item between different columns\n  const sourceSprint = findSprintIdByColumnId(productData, source.droppableId);\n  if (sourceSprint.type === \"ERROR\") {\n    throw new Error(\"ColumnId not found in productData\");\n  }\n  const sourceItems = Object.fromEntries(\n    Object.entries(sourceSprint.items).map(([key, value]) => [\n      key,\n      {\n        ...value,\n        position: value.position > source.index ? value.position - 1 : value.position,\n      },\n    ])\n  );\n\n  const destinationSprint = findSprintIdByColumnId(productData, destination.droppableId);\n  if (destinationSprint.type === \"ERROR\") {\n    throw new Error(\"ColumnId not found in productData\");\n  }\n  const destinationItems = Object.fromEntries(\n    Object.entries(destinationSprint.items).map(([key, value]) => [\n      key,\n      {\n        ...value,\n        position: value.position >= destination.index ? value.position + 1 : value.position,\n      },\n    ])\n  );\n\n  const movingItem: Item = {\n    ...sourceItems[itemId],\n    position: destination.index,\n  };\n\n  const newProductData = cloneDeep(productData);\n\n  if (sourceSprint.type === \"SPRINT\") {\n    if (destinationSprint.type === \"SPRINT\") {\n      newProductData.sprints[sourceSprint.sprintId].data[source.droppableId].items = sourceItems;\n      newProductData.sprints[destinationSprint.sprintId].data[\n        destination.droppableId\n      ].items = destinationItems;\n      newProductData.sprints[destinationSprint.sprintId].data[destination.droppableId].items[\n        itemId\n      ] = movingItem;\n      delete newProductData.sprints[sourceSprint.sprintId].data[source.droppableId].items[itemId];\n    } else {\n      newProductData.sprints[sourceSprint.sprintId].data[source.droppableId].items = sourceItems;\n      newProductData.backlog[destination.droppableId].items = destinationItems;\n      newProductData.backlog[destination.droppableId].items[itemId] = movingItem;\n      delete newProductData.sprints[sourceSprint.sprintId].data[source.droppableId].items[itemId];\n    }\n  } else if (sourceSprint.type === \"BACKLOG\") {\n    if (destinationSprint.type === \"SPRINT\") {\n      newProductData.backlog[source.droppableId].items = sourceItems;\n      newProductData.sprints[destinationSprint.sprintId].data[\n        destination.droppableId\n      ].items = destinationItems;\n      newProductData.sprints[destinationSprint.sprintId].data[destination.droppableId].items[\n        itemId\n      ] = movingItem;\n      delete newProductData.backlog[source.droppableId].items[itemId];\n    } else {\n      newProductData.backlog[source.droppableId].items = sourceItems;\n      newProductData.backlog[destination.droppableId].items = destinationItems;\n      newProductData.backlog[destination.droppableId].items[itemId] = movingItem;\n      delete newProductData.backlog[source.droppableId].items[itemId];\n    }\n  }\n\n  return newProductData;\n};\n\nexport const addItem = ({\n  productData,\n  sprintId,\n  listId,\n  content,\n}: {\n  productData: ProductData;\n  sprintId?: string;\n  listId: string;\n  content: string;\n}): ProductData => {\n  const listItems: Items =\n    sprintId === undefined\n      ? productData.backlog[listId].items\n      : productData.sprints[sprintId].data[listId].items;\n  const position: number = Object.keys(listItems).length;\n  const item: Item = { position, item_content: content };\n  const newId = uuidv4();\n\n  const newProductData = cloneDeep(productData);\n  if (sprintId === undefined) {\n    newProductData.backlog[listId].items[newId] = item;\n  } else {\n    newProductData.sprints[sprintId].data[listId].items[newId] = item;\n  }\n  return newProductData;\n};\n\nexport const updateItem = ({\n  productData,\n  sprintId,\n  listId,\n  itemId,\n  content,\n}: {\n  productData: ProductData;\n  sprintId?: string;\n  listId: string;\n  itemId: string;\n  content: string;\n}): ProductData => {\n  const newItemData = cloneDeep(productData);\n  if (sprintId === undefined) {\n    newItemData.backlog[listId].items[itemId].item_content = content;\n    return newItemData;\n  }\n  newItemData.sprints[sprintId].data[listId].items[itemId].item_content = content;\n  return newItemData;\n};\n\nexport const updateListTitle = (\n  productData: ProductData,\n  sprintId: string,\n  listId: string,\n  listTitle: string\n) => {\n  const newBoardData = cloneDeep(productData);\n  newBoardData.sprints[sprintId].data[listId].list_title = listTitle;\n  return newBoardData;\n};\n\nexport const deleteList = (productData: ProductData, sprintId: string, listId: string) =>\n  omit(productData, [`sprints.${sprintId}.data.${listId}`]) as ProductData;\n\nexport const deleteItem = ({\n  productData,\n  sprintId,\n  listId,\n  itemId,\n}: {\n  productData: ProductData;\n  sprintId?: string;\n  listId: string;\n  itemId: string;\n}) => {\n  // if product backlog\n  if (sprintId === undefined) {\n    return omit(productData, [`backlog.${listId}.items.${itemId}`]) as ProductData;\n  }\n  return omit(productData, [`sprints.${sprintId}.data.${listId}.items.${itemId}`]) as ProductData;\n};\n","/* eslint-disable import/prefer-default-export */\n\nimport { isEqual } from \"lodash\";\nimport { Column, ProductData, Sprint } from \"../../types/types\";\n\nconst isColumnNonEmpty = (column: Column) => Object.keys(column.items).length !== 0;\n\nexport const someItemsNotDone = (sprint: Sprint) =>\n  Object.values(sprint.data)\n    .filter((column) => column.list_title !== \"Done\")\n    .some((column) => isColumnNonEmpty(column));\n\nexport const isSameSprint = ({\n  actual,\n  expected,\n  sprintId,\n}: {\n  actual: ProductData;\n  expected: ProductData;\n  sprintId: string;\n}): boolean => {\n  const actualResultWithoutColumns: ProductData = {\n    ...actual,\n    sprints: {\n      ...actual.sprints,\n      [sprintId]: {\n        ...actual.sprints[sprintId],\n        data: {},\n      },\n    },\n  };\n  const expectedResultWithoutColumns: ProductData = {\n    ...expected,\n    sprints: {\n      ...expected.sprints,\n      [sprintId]: {\n        ...expected.sprints[sprintId],\n        data: {},\n      },\n    },\n  };\n\n  return isEqual(actualResultWithoutColumns, expectedResultWithoutColumns);\n};\n\nexport const isSameColumns = ({\n  actual,\n  expected,\n}: {\n  actual: Column[];\n  expected: Column[];\n}): boolean => isEqual(actual, expected);\nexport const isSameSprintAndColumns = ({\n  actual,\n  expected,\n  sprintId,\n}: {\n  actual: ProductData;\n  expected: ProductData;\n  sprintId: string;\n}): boolean => {\n  const actualColumns: Column[] = Object.values(actual.sprints[sprintId].data);\n  const expectedColumns: Column[] = Object.values(expected.sprints[sprintId].data);\n\n  return (\n    isSameSprint({ actual, expected, sprintId }) &&\n    isSameColumns({ actual: actualColumns, expected: expectedColumns })\n  );\n};\n\nexport const isSameSprintAndDefaultColumns = ({\n  actual,\n  expected,\n  sprintId,\n}: {\n  actual: ProductData;\n  expected: ProductData;\n  sprintId: string;\n}): boolean => {\n  const actualColumns: Column[] = Object.values(actual.sprints[sprintId].data);\n  const expectedColumns: Column[] = [\n    {\n      items: {},\n      list_title: \"Sprint Backlog\",\n      position: 0,\n    },\n    {\n      items: {},\n      list_title: \"Doing\",\n      position: 1,\n    },\n    {\n      items: {},\n      list_title: \"Done\",\n      position: 2,\n    },\n  ];\n\n  return (\n    isSameSprint({ actual, expected, sprintId }) &&\n    isSameColumns({ actual: actualColumns, expected: expectedColumns })\n  );\n};\n","/* eslint-disable import/prefer-default-export */\nimport { ProductData } from \"../types/types\";\n\nexport const catchErrorWithAlert = (\n  callback: () => ProductData,\n  state: ProductData,\n  alertMessage: string\n) => {\n  try {\n    return callback();\n  } catch (error) {\n    alert(alertMessage);\n    return state;\n  }\n};\n","import React, { createContext, ReactNode, useReducer } from \"react\";\nimport { DraggableLocation } from \"react-beautiful-dnd\";\nimport { ProductData } from \"../types/types\";\nimport {\n  addItem,\n  createSprint,\n  deleteItem,\n  deleteList,\n  reorderItemPosition,\n  updateItem,\n  updateListTitle,\n} from \"./reducers/boardDataReducers\";\n\nimport { INITIAL_PRODUCT_DATA, ProductAction } from \"./constants\";\nimport { endSprint, deleteSprint } from \"./reducers/sprintReducers\";\nimport { catchErrorWithAlert } from \"./productContextUtils\";\n\ninterface Props {\n  children?: ReactNode;\n}\n\ninterface ProductContextProps {\n  productData: ProductData;\n  dispatch: React.Dispatch<ProductActionType>;\n}\n\nexport const INITIAL_CONTEXT_VALUE: ProductContextProps = {\n  productData: INITIAL_PRODUCT_DATA,\n  dispatch: () => null,\n};\n\nexport const ProductContext = createContext<ProductContextProps>(INITIAL_CONTEXT_VALUE);\n\nexport type ProductActionType =\n  | {\n      type: ProductAction.REORDER_ITEM_POSITION;\n      source: DraggableLocation;\n      destination: DraggableLocation;\n      itemId: string;\n    }\n  | { type: ProductAction.ADD_ITEM; sprintId?: string; listId: string; content: string }\n  | {\n      type: ProductAction.UPDATE_ITEM;\n      sprintId?: string;\n      listId: string;\n      itemId: string;\n      content: string;\n    }\n  | { type: ProductAction.DELETE_ITEM; sprintId?: string; listId: string; itemId: string }\n  | { type: ProductAction.DELETE_LIST; sprintId: string; listId: string }\n  | { type: ProductAction.UPDATE_LIST_TITLE; sprintId: string; listId: string; listTitle: string }\n  | {\n      type: ProductAction.CREATE_SPRINT;\n      sprintId: string;\n      goal: string;\n      startDate: Date;\n      endDate: Date;\n    }\n  | { type: ProductAction.DELETE_SPRINT; sprintId: string }\n  | { type: ProductAction.END_SPRINT; sprintId: string };\n\nexport const ProductProvider: React.FC<Props> = ({ children }) => {\n  function reducer(state: ProductData, action: ProductActionType) {\n    switch (action.type) {\n      case ProductAction.REORDER_ITEM_POSITION:\n        return reorderItemPosition(state, action.source, action.destination, action.itemId);\n      case ProductAction.ADD_ITEM:\n        return addItem({\n          productData: state,\n          sprintId: action.sprintId,\n          listId: action.listId,\n          content: action.content,\n        });\n      case ProductAction.UPDATE_ITEM:\n        return updateItem({\n          productData: state,\n          sprintId: action.sprintId,\n          listId: action.listId,\n          itemId: action.itemId,\n          content: action.content,\n        });\n      case ProductAction.DELETE_LIST:\n        return deleteList(state, action.sprintId, action.listId);\n      case ProductAction.DELETE_ITEM:\n        return deleteItem({\n          productData: state,\n          sprintId: action.sprintId,\n          listId: action.listId,\n          itemId: action.itemId,\n        });\n      case ProductAction.UPDATE_LIST_TITLE:\n        return updateListTitle(state, action.sprintId, action.listId, action.listTitle);\n      case ProductAction.CREATE_SPRINT:\n        return createSprint({\n          productData: state,\n          id: action.sprintId,\n          goal: action.goal,\n          startDate: action.startDate,\n          endDate: action.endDate,\n          isOpen: true,\n        });\n      case ProductAction.END_SPRINT:\n        return catchErrorWithAlert(\n          () => endSprint({ productData: state, id: action.sprintId }),\n          state,\n          \"Sprint with not done elements cannot be ended\"\n        );\n      case ProductAction.DELETE_SPRINT:\n        return deleteSprint({ productData: state, id: action.sprintId });\n      default:\n        return state;\n    }\n  }\n\n  const [productData, dispatch] = useReducer(reducer, INITIAL_CONTEXT_VALUE.productData);\n\n  return (\n    <ProductContext.Provider value={{ productData, dispatch }}>{children}</ProductContext.Provider>\n  );\n};\n","import { omit } from \"lodash\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { ProductData } from \"../../types/types\";\nimport { someItemsNotDone } from \"./sprintUtils\";\n\nexport const createSprint = ({\n  productData,\n  id,\n  goal,\n  startDate,\n  endDate,\n  isOpen,\n}: {\n  productData: ProductData;\n  id: string;\n  goal: string;\n  startDate: Date;\n  endDate: Date;\n  isOpen: boolean;\n}) => {\n  if (startDate > endDate) {\n    throw new Error(\"End date must be after start date\");\n  }\n\n  const idSprintBacklog = uuidv4();\n  const idDoing = uuidv4();\n  const idDone = uuidv4();\n\n  const position = Object.keys(productData.sprints).length;\n  const newProductData: ProductData = {\n    ...productData,\n    sprints: {\n      ...productData.sprints,\n      [id]: {\n        data: {\n          [idSprintBacklog]: {\n            items: {},\n            list_title: \"Sprint Backlog\",\n            position: 0,\n          },\n          [idDoing]: {\n            items: {},\n            list_title: \"Doing\",\n            position: 1,\n          },\n          [idDone]: {\n            items: {},\n            list_title: \"Done\",\n            position: 2,\n          },\n        },\n        goal,\n        startDate,\n        endDate,\n        position,\n        isOpen,\n      },\n    },\n  };\n  return newProductData;\n};\n\nexport const endSprint = ({ productData, id }: { productData: ProductData; id: string }) => {\n  if (someItemsNotDone(productData.sprints[id])) {\n    throw new Error(\"All items must be in done state in order to end sprint\");\n  }\n\n  const doneColumnEntry = Object.entries(productData.sprints[id].data).find(\n    (entry) => entry[1].list_title === \"Done\"\n  );\n\n  if (!doneColumnEntry) {\n    throw new Error(\"No done column in this sprint\");\n  }\n\n  const newProductData: ProductData = {\n    ...productData,\n    sprints: {\n      ...productData.sprints,\n      [id]: {\n        ...productData.sprints[id],\n        data: {\n          [doneColumnEntry[0]]: doneColumnEntry[1],\n        },\n        isOpen: false,\n      },\n    },\n  };\n  return newProductData;\n};\n\nexport const deleteSprint = ({ productData, id }: { productData: ProductData; id: string }) => {\n  const newProductData: ProductData = {\n    ...productData,\n    sprints: omit(productData.sprints, [id]),\n  };\n  return newProductData;\n};\n","import React, { useState, useEffect, useRef, ChangeEvent, KeyboardEvent } from \"react\";\nimport styled from \"styled-components\";\n\ninterface TextAreaProps {\n  readonly editMode: boolean;\n  readonly isTitle: boolean;\n}\nconst TextArea = styled.textarea<TextAreaProps>`\n  cursor: ${(props) => (props.editMode ? \"text\" : \"pointer\")};\n  height: auto;\n  width: 100%;\n  overflow-y: hidden;\n  border: none;\n  resize: none;\n  border-radius: 4px;\n  width: 100%;\n  padding: 0;\n  font-weight: ${(props) => (props.isTitle ? \"600\" : \"400\")};\n  text-align: ${(props) => (props.isTitle ? \"center\" : \"start\")};\n  font-size: ${(props) => (props.isTitle ? \"22px\" : \"unset\")};\n  color: ${(props) => (props.isTitle ? \"#40506C\" : \"unset\")};\n  background: transparent;\n`;\n\ntype AutoSizeTextAreaProps = {\n  placeholder: string;\n  editMode: boolean;\n  onSave: (value: string) => void;\n  updateValue: string;\n  onBlur: (text: string) => void;\n  isTitle: boolean;\n};\nconst AutoSizeTextArea = ({\n  placeholder,\n  editMode,\n  onSave,\n  updateValue,\n  onBlur,\n  isTitle,\n}: AutoSizeTextAreaProps) => {\n  const [textAreaValue, setTextAreaValue] = useState(\"\");\n  const textAreaRef = useRef<HTMLTextAreaElement>(null);\n\n  const resizeTextArea = () => {\n    if (textAreaRef.current) {\n      textAreaRef.current.style.height = \"auto\";\n      textAreaRef.current.style.height = `${textAreaRef.current.scrollHeight}px`;\n    }\n  };\n  useEffect(() => {\n    setTextAreaValue(updateValue);\n  }, [updateValue]);\n  useEffect(() => {\n    resizeTextArea();\n  }, [textAreaValue]);\n\n  useEffect(() => {\n    if (editMode && textAreaRef.current) {\n      textAreaRef.current.focus();\n      textAreaRef.current.select();\n    }\n  }, [editMode]);\n  const onChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    setTextAreaValue(e.target.value);\n  };\n\n  const onKeyDown = (e: KeyboardEvent<HTMLTextAreaElement>) => {\n    // enter pressed\n    if (e.keyCode === 13 && textAreaRef.current) {\n      e.preventDefault();\n      onSave(textAreaValue);\n      textAreaRef.current.blur();\n    }\n  };\n  return (\n    <TextArea\n      isTitle={isTitle}\n      ref={textAreaRef}\n      value={textAreaValue}\n      onChange={onChange}\n      rows={1}\n      onKeyDown={onKeyDown}\n      onBlur={() => onBlur(textAreaValue)}\n      spellCheck=\"false\"\n      editMode={editMode}\n      placeholder={placeholder}\n    />\n  );\n};\nexport default AutoSizeTextArea;\n","import React, { useContext, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { ProductAction } from \"../state/constants\";\nimport { ProductContext } from \"../state/productContext\";\nimport AutoSizeTextArea from \"./AutoSizeTextArea\";\n\nconst Button = styled.div`\n  cursor: pointer;\n  padding: 8px;\n  &:hover span:last-child {\n    text-decoration: underline;\n  }\n  &:hover {\n    background-color: rgba(9, 30, 66, 0.08);\n  }\n`;\n\nconst Wrapper = styled.div`\n  padding: 8px;\n`;\n\ntype AddItemProps = {\n  sprintId?: string;\n  listId: string;\n};\n\nconst AddItem = ({ listId, sprintId }: AddItemProps) => {\n  const [compose, setCompose] = useState<boolean>(false);\n\n  const { dispatch } = useContext(ProductContext);\n\n  if (!compose) {\n    return (\n      <Button onClick={() => setCompose(true)}>\n        <span className=\"trellicons\">&#xE901;</span> <span>Add another item</span>\n      </Button>\n    );\n  }\n\n  const onSave = (content: string) => {\n    dispatch({ type: ProductAction.ADD_ITEM, sprintId, listId, content });\n    setCompose(false);\n  };\n\n  const cancel = () => {\n    setCompose(false);\n  };\n\n  return (\n    <Wrapper>\n      <AutoSizeTextArea\n        isTitle={false}\n        onSave={onSave}\n        updateValue=\"\"\n        onBlur={cancel}\n        editMode\n        placeholder=\"Enter a title for this itemâ€¦\"\n      />\n    </Wrapper>\n  );\n};\nexport default AddItem;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useContext, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Draggable } from \"react-beautiful-dnd\";\nimport { Item as ItemType } from \"../types/types\";\nimport AutoSizeTextArea from \"./AutoSizeTextArea\";\nimport { ProductContext } from \"../state/productContext\";\nimport { ProductAction } from \"../state/constants\";\n\nconst Delete = styled.div`\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  font-size: 16px;\n  line-height: 23px;\n  font-family: trellicons;\n  border-radius: 3px;\n  height: 23px;\n  width: 23px;\n  text-align: center;\n  &:hover {\n    background-color: rgba(9, 30, 66, 0.08);\n  }\n  visibility: hidden;\n  cursor: pointer;\n`;\n\nconst TextAreaWrapper = styled.div`\n  width: 100%;\n`;\n\ninterface ItemDraggableProps {\n  readonly editMode: boolean;\n}\n\nconst ItemDraggable = styled.div<ItemDraggableProps>`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding-top: 12px;\n  padding-bottom: 8px;\n  padding-left: 14px;\n  padding-right: 14px;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: ${(props) => (props.editMode ? \"none\" : \"0px 2px 0px rgba(0, 0, 0, 0.2)\")};\n  margin-bottom: 8px;\n  &:hover ${Delete} {\n    visibility: visible;\n  }\n`;\n\ntype ItemProps = {\n  sprintId?: string;\n  listId: string;\n  itemId: string;\n  itemData: ItemType;\n};\nconst Item = ({ listId, itemId, itemData, sprintId }: ItemProps) => {\n  const [editMode, setEditMode] = useState<boolean>(false);\n\n  const { dispatch } = useContext(ProductContext);\n\n  const onSave = (content: string) => {\n    dispatch({ type: ProductAction.UPDATE_ITEM, sprintId, listId, itemId, content });\n    setEditMode(false);\n  };\n\n  const contentClick = () => {\n    setEditMode(true);\n  };\n\n  const deleteClick = () => {\n    dispatch({ type: ProductAction.DELETE_ITEM, sprintId, listId, itemId });\n  };\n\n  return (\n    <Draggable\n      draggableId={itemId}\n      index={itemData.position}\n      disableInteractiveElementBlocking={!editMode}\n    >\n      {(draggableProvided) => (\n        <ItemDraggable\n          ref={draggableProvided.innerRef}\n          {...draggableProvided.draggableProps}\n          {...draggableProvided.dragHandleProps}\n          editMode={editMode}\n        >\n          <TextAreaWrapper onClick={contentClick}>\n            <AutoSizeTextArea\n              isTitle={false}\n              placeholder=\"\"\n              onSave={onSave}\n              updateValue={itemData.item_content}\n              // should i cancel???\n              onBlur={onSave}\n              editMode={editMode}\n            />\n          </TextAreaWrapper>\n\n          <Delete onClick={deleteClick}>&#xE918;</Delete>\n        </ItemDraggable>\n      )}\n    </Draggable>\n  );\n};\nexport default Item;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { ProductAction } from \"../state/constants\";\nimport { ProductContext } from \"../state/productContext\";\n\nconst Delete = styled.div`\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  font-family: trellicons;\n  font-size: 16px;\n  line-height: 32px;\n  border-radius: 3px;\n  height: 32px;\n  width: 32px;\n  text-align: center;\n  &:hover {\n    background-color: rgba(9, 30, 66, 0.08);\n  }\n  visibility: hidden;\n`;\n\nconst Container = styled.div`\n  && {\n    cursor: pointer;\n  }\n  &:hover ${Delete} {\n    visibility: visible;\n  }\n`;\n\nconst TextAreaWrapper = styled.div`\n  margin: 4px 0;\n  width: 100%;\n  overflow-y: hidden;\n  border: none;\n  resize: none;\n  border-radius: 4px;\n  width: 100%;\n  padding: 0;\n  font-weight: 600;\n  text-align: center;\n  font-size: 22px;\n  color: #40506c;\n  background: transparent;\n`;\n\ntype ListTileProps = {\n  sprintId?: string;\n  listId: string;\n  title: string;\n};\n\nconst ListTitle = ({ sprintId, listId, title }: ListTileProps) => {\n  const { dispatch } = useContext(ProductContext);\n\n  const deleteClick =\n    sprintId === undefined\n      ? () => {}\n      : () => {\n          dispatch({ type: ProductAction.DELETE_LIST, sprintId, listId });\n        };\n\n  return (\n    <Container>\n      <TextAreaWrapper>{title}</TextAreaWrapper>\n      <Delete onClick={deleteClick}>&#xE918;</Delete>\n    </Container>\n  );\n};\nexport default ListTitle;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React from \"react\";\nimport { Droppable } from \"react-beautiful-dnd\";\nimport styled from \"styled-components\";\nimport { Column, Items } from \"../types/types\";\nimport AddItem from \"./AddItem\";\nimport Item from \"./Item\";\nimport ListTitle from \"./ListTitle\";\n\nconst ListWrapper = styled.div`\n  position: relative;\n  width: 270px;\n  margin: 0 8px;\n  background-color: #e3e4e6;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  padding-top: 8px;\n  padding-left: 8px;\n  padding-right: 8px;\n  padding-bottom: 2px;\n`;\n\nconst ListDroppable = styled.div`\n  min-height: 50px;\n`;\n\nconst sortFn = (data: Items) => (a: string, b: string) => data[a].position - data[b].position;\n\ntype ListProps = {\n  listId: string;\n  listData: Column;\n  sprintId?: string;\n};\n\nconst List = ({ listId, listData, sprintId }: ListProps) => {\n  const itemIds: string[] = Object.keys(listData.items).sort(sortFn(listData.items));\n\n  return (\n    <ListWrapper>\n      <ListTitle sprintId={sprintId} listId={listId} title={listData.list_title} />\n\n      <Droppable droppableId={listId}>\n        {(droppableProvided) => (\n          <ListDroppable ref={droppableProvided.innerRef}>\n            {itemIds.map((id) => (\n              <Item\n                key={id}\n                sprintId={sprintId}\n                itemId={id}\n                listId={listId}\n                itemData={listData.items[id]}\n              />\n            ))}\n            {droppableProvided.placeholder}\n          </ListDroppable>\n        )}\n      </Droppable>\n      {!sprintId ? <AddItem sprintId={sprintId} listId={listId} /> : null}\n    </ListWrapper>\n  );\n};\nexport default List;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Column } from \"../types/types\";\nimport List from \"./List\";\n\nconst ProductBacklogWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin: 8px;\n`;\n\ntype ProductBackLogProps = {\n  listId: string;\n  listData: Column;\n};\n\nconst ProductBackLog = ({ listId, listData }: ProductBackLogProps) => (\n  <ProductBacklogWrapper>\n    <List listId={listId} listData={listData} />\n  </ProductBacklogWrapper>\n);\nexport default ProductBackLog;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport dayjs from \"dayjs\";\n\nimport { ProductContext } from \"../state/productContext\";\nimport { ProductAction } from \"../state/constants\";\nimport { Columns } from \"../types/types\";\nimport List from \"./List\";\n\nconst SprintWrapper = styled.div<{ isOpen: boolean }>`\n  background-color: ${(props) =>\n    props.isOpen ? \"rgba(255, 255, 255, 0.87)\" : \"rgba(255, 255, 255, 0.4)\"};\n  border-radius: 15px;\n  display: flex;\n  flex-direction: column;\n  margin: 8px;\n`;\n\nconst SprintHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 16px;\n  justify-content: space-between;\n`;\n\nconst SprintHeaderSide = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n\nconst SprintTitle = styled.div`\n  font-size: 36px;\n  font-weight: 600;\n  margin-right: 32px;\n`;\n\nconst SprintSubtitle = styled.div`\n  padding-left: 16px;\n  padding-bottom: 16px;\n`;\n\nconst ListsWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: start;\n`;\n\nconst DeleteSprintButton = styled.button`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  padding: 8px;\n  background-color: #c24e4e;\n  border-radius: 4px;\n  border: none;\n  color: white;\n  outline: 0;\n  margin-right: 16px;\n`;\n\nconst EndSprintButton = styled.button`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  padding: 8px;\n  background-color: #4e97c2;\n  border-radius: 4px;\n  border: none;\n  color: white;\n  outline: 0;\n`;\n\ntype SprintProps = {\n  sprintId: string;\n};\nconst Sprint = ({ sprintId }: SprintProps) => {\n  const { productData, dispatch } = useContext(ProductContext);\n  const sprint = productData.sprints[sprintId];\n\n  const sortFn = (data: Columns) => (a: string, b: string) => data[a].position - data[b].position;\n\n  const listIds: string[] = Object.keys(productData.sprints[sprintId].data).sort(\n    sortFn(productData.sprints[sprintId].data)\n  );\n\n  const getDiffDays = (): number => {\n    const endDate = dayjs(sprint.endDate);\n    const startDate = dayjs(sprint.startDate);\n\n    return endDate.diff(startDate, \"day\");\n  };\n\n  const { isOpen } = sprint;\n\n  const prefix = isOpen ? \"\" : \"[ENDED] \";\n\n  return (\n    <SprintWrapper isOpen={isOpen}>\n      <SprintHeader>\n        <SprintHeaderSide>\n          <SprintTitle>\n            {prefix} Sprint {sprint.position + 1}\n          </SprintTitle>\n          {sprint.isOpen && (\n            <span>\n              {getDiffDays()} days - {sprint.startDate.toDateString()} -{\" \"}\n              {sprint.endDate.toDateString()}\n            </span>\n          )}\n        </SprintHeaderSide>\n        <SprintHeaderSide>\n          <DeleteSprintButton\n            onClick={() => dispatch({ type: ProductAction.DELETE_SPRINT, sprintId })}\n          >\n            Delete Sprint\n          </DeleteSprintButton>\n\n          {sprint.isOpen && (\n            <EndSprintButton onClick={() => dispatch({ type: ProductAction.END_SPRINT, sprintId })}>\n              Close Sprint\n            </EndSprintButton>\n          )}\n        </SprintHeaderSide>\n      </SprintHeader>\n      <SprintSubtitle>{sprint.goal}</SprintSubtitle>\n      <ListsWrapper>\n        {listIds.map((listId) => (\n          <List\n            key={listId}\n            sprintId={sprintId}\n            listId={listId}\n            listData={productData.sprints[sprintId].data[listId]}\n          />\n        ))}\n      </ListsWrapper>\n    </SprintWrapper>\n  );\n};\nexport default Sprint;\n","import React, { ChangeEvent, useState } from \"react\";\nimport Modal from \"react-modal\";\nimport styled from \"styled-components\";\nimport dayjs from \"dayjs\";\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\n\ndayjs.extend(customParseFormat);\n\nModal.setAppElement(\"#root\");\n\nconst AddSprintTitle = styled.div`\n  font-size: 18px;\n  margin-bottom: 8px;\n`;\nconst AddSprintFormLabel = styled.div`\n  margin: 8px 0;\n`;\nconst AddSprintFormTextArea = styled.textarea`\n  width: 100%;\n  resize: none;\n  padding: 8px;\n`;\nconst AddSprintFormFooter = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin: 8px 0;\n`;\nconst AddSprintFormButton = styled.button`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  background-color: #4e97c2;\n  border-radius: 4px;\n  border: none;\n  color: white;\n  outline: 0;\n  padding: 8px;\n  text-align: end;\n`;\n\ntype AddSprintModalProps = {\n  isOpen: boolean;\n  onAddSprint: (goal: string, startDate: Date, endDate: Date) => void;\n  onClose: () => void;\n};\n\nconst AddSprintModal = ({ isOpen, onClose, onAddSprint }: AddSprintModalProps) => {\n  const [goalsValue, setGoalsValue] = useState(\"\");\n  const [startDateValue, setStartDateValue] = useState(\"\");\n  const [endDateValue, setEndDateValue] = useState(\"\");\n\n  const validate = () => {\n    const startDateDayjs = dayjs(startDateValue, \"DD/MM/YYYY\");\n    const endDateDayjs = dayjs(endDateValue, \"DD/MM/YYYY\");\n\n    if (!startDateDayjs.isValid() || !endDateDayjs.isValid()) {\n      // eslint-disable-next-line no-alert\n      alert(\"Date formats are wrong\");\n      return;\n    }\n\n    if (startDateDayjs.isAfter(endDateDayjs)) {\n      // eslint-disable-next-line no-alert\n      alert(\"Start date cannot be after end date\");\n      return;\n    }\n    onAddSprint(goalsValue, startDateDayjs.toDate(), endDateDayjs.toDate());\n  };\n\n  return (\n    <Modal\n      shouldCloseOnOverlayClick\n      isOpen={isOpen}\n      onRequestClose={onClose}\n      style={{\n        content: {\n          width: \"500px\",\n          top: \"50%\",\n          left: \"50%\",\n          right: \"auto\",\n          bottom: \"auto\",\n          marginRight: \"-50%\",\n          transform: \"translate(-50%, -50%)\",\n          backgroundColor: \"#026aa7\",\n          color: \"white\",\n          borderRadius: \"8px\",\n          backdropFilter: \"grayscale(30%)\",\n        },\n      }}\n      contentLabel=\"New Sprint Modal\"\n    >\n      <AddSprintTitle>New Sprint</AddSprintTitle>\n      <AddSprintFormLabel>Goals</AddSprintFormLabel>\n      <AddSprintFormTextArea\n        rows={3}\n        onChange={(e: ChangeEvent<HTMLTextAreaElement>) => setGoalsValue(e.target.value)}\n      >\n        {goalsValue}\n      </AddSprintFormTextArea>\n      <AddSprintFormLabel>Start Date</AddSprintFormLabel>\n      <AddSprintFormTextArea\n        rows={1}\n        placeholder=\"jj/mm/aaaa\"\n        onChange={(e: ChangeEvent<HTMLTextAreaElement>) => setStartDateValue(e.target.value)}\n      >\n        {startDateValue}\n      </AddSprintFormTextArea>\n      <AddSprintFormLabel>End Date</AddSprintFormLabel>\n      <AddSprintFormTextArea\n        rows={1}\n        placeholder=\"jj/mm/aaaa\"\n        onChange={(e: ChangeEvent<HTMLTextAreaElement>) => setEndDateValue(e.target.value)}\n      >\n        {endDateValue}\n      </AddSprintFormTextArea>\n      <AddSprintFormFooter>\n        <AddSprintFormButton onClick={validate}>Add Sprint</AddSprintFormButton>\n      </AddSprintFormFooter>\n    </Modal>\n  );\n};\n\nexport default AddSprintModal;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { Dispatch, useContext, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { DragDropContext, Droppable, DropResult } from \"react-beautiful-dnd\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport { ProductActionType, ProductContext } from \"../state/productContext\";\nimport { ProductAction } from \"../state/constants\";\nimport ProductBackLog from \"./ProductBacklog\";\nimport Sprint from \"./Sprint\";\nimport { Sprints } from \"../types/types\";\nimport AddSprintModal from \"./AddSprintModal\";\n\nconst ProductContainer = styled.div`\n  flex: 1;\n  overflow-x: auto;\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ProductHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  padding: 8px;\n`;\n\nconst ProductTitle = styled.div`\n  font-weight: 700;\n  font-size: 30px;\n  color: white;\n  margin-right: 16px;\n`;\n\nconst ProductContent = styled.div`\n  flex: 1;\n  overflow-x: auto;\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n`;\n\nconst AddSprintButton = styled.button`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  background-color: #4e97c2;\n  border-radius: 4px;\n  border: none;\n  color: white;\n  outline: 0;\n`;\n\nconst AddSprintPlusIcon = styled.div`\n  color: white;\n  font-size: 22px;\n  margin-right: 12px;\n`;\n\nconst onDragEnd = (dispatch: Dispatch<ProductActionType>) => (result: DropResult): void => {\n  // dropped nowhere\n  if (!result.destination) {\n    return;\n  }\n  const { source } = result;\n  const { destination } = result;\n  // did not move anywhere - can bail early\n  if (source.droppableId === destination.droppableId && source.index === destination.index) {\n    return;\n  }\n\n  if (result.type === \"COLUMN\") {\n    // For now, we can't move columns\n    // dispatch({\n    //   type: ProductAction.REORDER_LIST_POSITION,\n    //   initialPosition: source.index,\n    //   finalPosition: destination.index,\n    // });\n    return;\n  }\n\n  dispatch({\n    type: ProductAction.REORDER_ITEM_POSITION,\n    source,\n    destination,\n    itemId: result.draggableId,\n  });\n};\n\nconst Product = () => {\n  const [isAddSprintModalOpen, setIsAddSprintModalOpen] = useState(false);\n  const { productData, dispatch } = useContext(ProductContext);\n\n  if (!productData) {\n    return <div>loading</div>;\n  }\n\n  const onBeforeDragStart = () => {\n    if (\n      document.activeElement?.tagName.toUpperCase() === \"TEXTAREA\" &&\n      document.activeElement instanceof HTMLElement\n    ) {\n      document.activeElement.blur();\n    }\n  };\n\n  const addSprint = (goal: string, startDate: Date, endDate: Date) => {\n    const id = uuidv4();\n    dispatch({\n      type: ProductAction.CREATE_SPRINT,\n      sprintId: id,\n      goal,\n      startDate,\n      endDate,\n    });\n  };\n\n  const sortFn = (data: Sprints) => (a: string, b: string) => data[b].position - data[a].position;\n\n  const sprintIds: string[] = Object.keys(productData.sprints).sort(sortFn(productData.sprints));\n  const backlogIds: string[] = Object.keys(productData.backlog);\n\n  return (\n    <DragDropContext onBeforeDragStart={onBeforeDragStart} onDragEnd={onDragEnd(dispatch)}>\n      <Droppable droppableId=\"board\" type=\"COLUMN\" direction=\"horizontal\">\n        {(provided) => (\n          <ProductContainer ref={provided.innerRef} {...provided.droppableProps}>\n            <ProductHeader>\n              <ProductTitle>{productData.product_title}</ProductTitle>\n              <AddSprintButton type=\"button\" onClick={() => setIsAddSprintModalOpen(true)}>\n                <AddSprintPlusIcon>+</AddSprintPlusIcon>\n                Add Sprint\n              </AddSprintButton>\n            </ProductHeader>\n            <ProductContent>\n              {backlogIds.map((backlogId) => (\n                <ProductBackLog\n                  key={backlogId}\n                  listId={backlogId}\n                  listData={productData.backlog[backlogId]}\n                />\n              ))}\n\n              {sprintIds.map((sprintId) => (\n                <Sprint key={sprintId} sprintId={sprintId} />\n              ))}\n              {provided.placeholder}\n            </ProductContent>\n            <AddSprintModal\n              onClose={() => {\n                setIsAddSprintModalOpen(false);\n              }}\n              onAddSprint={(goal: string, startDate: Date, endDate: Date) => {\n                addSprint(goal, startDate, endDate);\n                setIsAddSprintModalOpen(false);\n              }}\n              isOpen={isAddSprintModalOpen}\n            />\n          </ProductContainer>\n        )}\n      </Droppable>\n    </DragDropContext>\n  );\n};\nexport default Product;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Product from \"./components/Product\";\nimport { ProductProvider } from \"./state/productContext\";\n\nconst Heading = styled.div`\n  flex: 0;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  background-color: #026aa7;\n`;\n\nconst Title = styled.div`\n  color: #80b4d3;\n  font-size: 38px;\n  font-style: italic;\n  font-weight: 500;\n  margin-left: 8px;\n`;\n\nconst LogoSquare = styled.div`\n  position: relative;\n  width: 32px;\n  height: 32px;\n\n  background: #80b4d3;\n  border-radius: 5px;\n`;\n\nconst LogoRectangle1 = styled.div`\n  position: absolute;\n  width: 22px;\n  height: 8px;\n  left: 5px;\n  top: 11px;\n\n  background: #026aa7;\n  border-radius: 2px;\n`;\n\nconst LogoRectangle2 = styled.div`\n  position: absolute;\n  width: 22px;\n  height: 8px;\n  left: 5px;\n  top: 20px;\n\n  background: #026aa7;\n  border-radius: 2px;\n`;\n\nconst Container = styled.div`\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst App = () => (\n  <Container>\n    <ProductProvider>\n      <Heading>\n        <LogoSquare>\n          <LogoRectangle1 />\n          <LogoRectangle2 />\n        </LogoSquare>\n        <Title>Sam</Title>\n      </Heading>\n      <Product />\n    </ProductProvider>\n  </Container>\n);\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}